package pages

import "accounting-agent/web/templates/layouts"

// Login renders the sign-in page.
// flashErr is shown as an error banner if non-empty (e.g. "Invalid username or password").
templ Login(flashErr string) {
	@layouts.LoginLayout("Sign In") {
		<div class="w-full max-w-md">
			<div class="bg-white rounded-2xl shadow-xl p-8">
				<!-- Logo / brand -->
				<div class="text-center mb-6">
					<div class="text-4xl mb-2">⌂</div>
					<h1 class="text-2xl font-bold text-slate-900">Accounting</h1>
					<p class="text-sm text-slate-500 mt-1">Sign in to your account</p>
				</div>
				<!-- Error banner -->
				if flashErr != "" {
					<div class="mb-4 flex items-center gap-2 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg px-4 py-3">
						<span>⚠</span>
						<span>{ flashErr }</span>
					</div>
				}
				<!-- Login form -->
				<form method="POST" action="/login" class="space-y-4">
					<div>
						<label for="username" class="block text-sm font-medium text-slate-700 mb-1">Username</label>
						<input
							type="text"
							id="username"
							name="username"
							required
							autofocus
							autocomplete="username"
							class="w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-shadow"
						/>
					</div>
					<div>
						<label for="password" class="block text-sm font-medium text-slate-700 mb-1">Password</label>
						<input
							type="password"
							id="password"
							name="password"
							required
							autocomplete="current-password"
							class="w-full border border-slate-300 rounded-lg px-3 py-2.5 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-shadow"
						/>
					</div>
					<button
						type="submit"
						class="w-full bg-slate-900 text-white rounded-lg py-2.5 text-sm font-semibold hover:bg-slate-800 active:bg-slate-950 transition-colors mt-2"
					>
						Sign in
					</button>
				</form>
			</div>
			<p class="text-center text-xs text-slate-400 mt-4">
				Accounting Management System
			</p>
		</div>
	}
}
